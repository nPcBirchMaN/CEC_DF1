@isTest
public class QRTest {
	
    @TestSetup
    static void setup() {
        TestObjects.initializeObjects();
        Id cuentaPersonalRecordTypeId = Schema.SObjectType.Account.getRecordTypeInfosByName().get('Cuenta personal').getRecordTypeId();
        Account acc = new Account();
        acc.LastName = 'Test';
        acc.RecordTypeId = cuentaPersonalRecordTypeId;
        acc.Tipo_de_documento__c = 'dni';
        acc.N_mero_de_Documento__pc = '123456789K';
        acc.PersonEmail = 'myTestEmail@walidoo.com';
        acc.Categor_a__c = 'Menor';
        acc.Modalidad__c = 'Ni√±os 6-13';
        
        Test.startTest();
        insert acc;
    }
    
    public static testmethod void VFPControllerCase(){
        List<Account> accountList = [SELECT id FROM account LIMIT 1];
        Account acc = accountList[0];
        
        PageReference pageRef = Page.qrpage; 
        pageRef.getParameters().put('data',acc.id);
        pageRef.getParameters().put('sObject','Account');
        Test.startTest();
		Test.setCurrentPage(pageRef);
        QRPageController controller = new QRPageController();
		System.assertEquals(acc.id, controller.data);
        System.assertEquals('Account', controller.sObjectType);
        Test.stopTest();
    }
    
    public static testmethod void VFPControllerNoDataCase(){        
        PageReference pageRef = Page.qrpage;
        Test.startTest();
		Test.setCurrentPage(pageRef);
        QRPageController controller = new QRPageController();
		System.assertEquals(null, controller.data);
        System.assertEquals(null, controller.sObjectType);
        Test.stopTest();
    }
    
    public static testmethod void LCGetImageAsBlobCase(){
        String b64 = 'data:image/png;base64,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';
        Test.startTest();
        Blob img = QRPageController.getImageAsBlob(b64);
        System.assertEquals(b64.substringAfter(','), EncodingUtil.base64Encode(img));
        Test.stopTest();
    }
    
    public static testmethod void LCsaveImageToRecordAsAttachmentSuccessfulCase() {
        List<Account> accountList = [SELECT id FROM account LIMIT 1];
        Account acc = accountList[0];
        String b64 = 'data:image/png;base64,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';
        Boolean saveResult;
        Test.startTest();
        Blob img = QRPageController.getImageAsBlob(b64);
        saveResult = QRPageController.saveImageToRecordAsAttachment(acc.id, img);
		System.assertEquals(true, saveResult);     
        Test.stopTest();
    }
    
    public static testmethod void LCsaveImageToRecordAsAttachmentUnsuccessfulCase() {
        List<Account> accountList = [SELECT id FROM account LIMIT 1];
        Account acc = accountList[0];
        String b64 = 'data:image/png;base64,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';
        Boolean saveResult;
        Test.startTest();
        Blob img = QRPageController.getImageAsBlob(b64);
        saveResult = QRPageController.saveImageToRecordAsAttachment(acc.id, img);
		System.assertEquals(true, saveResult);     
        saveResult = QRPageController.saveImageToRecordAsAttachment(acc.id, img);
		System.assertEquals(false, saveResult); 
        Test.stopTest();
    }
    
    public static testmethod void LCexecuteSuccessfulCase() {
        List<Account> accountList = [SELECT id FROM account LIMIT 1];
        Account acc = accountList[0];
        String b64 = 'data:image/png;base64,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';
        Boolean saveResult;
        Test.startTest();
        saveResult = QRCodeSaverController.ejecutar(acc.id, b64);
		System.assertEquals(true, saveResult);     
        Test.stopTest();
    }
    
    public static testmethod void LCexecuteUnsuccessfulCase() {
        List<Account> accountList = [SELECT id FROM account LIMIT 1];
        Account acc = accountList[0];
        String b64 = 'data:image/png;base64,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';
        Boolean saveResult;
        Test.startTest();
        saveResult = QRPageController.execute(acc.id, b64);
		System.assertEquals(true, saveResult);     
        saveResult = QRPageController.execute(acc.id, b64);
		System.assertEquals(false, saveResult); 
        Test.stopTest();
    }
}